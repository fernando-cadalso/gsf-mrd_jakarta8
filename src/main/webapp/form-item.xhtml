<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="_base.xhtml">


	<ui:define name="conteudo">
		<p:messages id="msgItens" showSummary="true" showDetail="true"
			skipDetailIfEqualsSummary="true">
			<p:autoUpdate />
		</p:messages>

		<p:accordionPanel styleClass="card">
			<p:tab title="Cadastro de itens" titleStyleClass="card-header h3">
				<!-- 	###################################################################### -->
				<!-- 	CADASTRO DE ITENS##################################################### -->
				<!-- 	###################################################################### -->
				<h:form>

					<p:panel styleClass="card">
						<!-- BARRA DE BOTÕES################################################## -->
						<f:facet name="header">
							<p:commandButton value="Salvar item" action="#{bean.salvar}"
								process="@form" update="@form messages" styleClass="p-mr-2"
								icon="pi pi-save" />

							<p:commandButton value="Novo item" type="reset" update="messages"
								immediate="true" styleClass="p-mr-2" icon="pi pi-plus" />

							<p:linkButton value="Voltar" outcome="home" update="messages"
								style="margin-right:20px;" icon="pi pi-arrow-left" />
						</f:facet>

						<div class="card-body">
							<!--FORMULÁRIO################################################ -->
							<div class="ui-fluid">
								<div class="p-formgroup-inline p-grid p-jc-between">

									<div class="p-field p-col-4">
										<!--NOME################# -->
										<p:outputLabel value="Nome do item:" for="@next"
											styleClass="form-label" />
										<p:inputText id="nome" value="#{bean.item.nome}"
											required="true" requiredMessage="Informe o nome do item."
											validatorMessage="O nome deve ter menos de 50 caracteres."
											maxlength="50">
											<f:validateLength minimum="1" maximum="49" />
											<p:ajax event="keyup" />
											<p:ajax event="blur" />
										</p:inputText>
										<p:message for="nome" display="icon" />
									</div>

									<div class="p-field p-col-2">
										<!--QUANTIDADE###################### -->
										<p:outputLabel value="Quantidade:" for="quantidade"
											styleClass="form-label" />
										<p:inputNumber id="quantidade" value="#{bean.item.quantidade}"
											decimalPlaces="3" decimalSeparator="," maxValue="999999.99">
										</p:inputNumber>
									</div>

									<div class="p-field p-col-2">
										<!--PRECO###################### -->
										<p:outputLabel value="Preço:" for="preco"
											styleClass="form-label" />
										<p:inputNumber id="preco" value="#{bean.item.preco}"
											decimalPlaces="2" decimalSeparator="," maxValue="9999"
											symbol="R$ " symbolPosition="p" thousandSeparator=".">

										</p:inputNumber>
									</div>

								</div>

								<!--DESCRICAO########################### -->
								<p:outputLabel value="Descrição:" for="@next"
									styleClass="form-label" />
								<p:inputTextarea id="descricao" value="#{bean.item.descricao}"
									rows="2" maxlength="256"
									validatorMessage="O máximo de caracteres é 256."
									styleClass="p-mb-3">
									<f:validateLength maximum="255" />
									<p:ajax event="keyup" />
								</p:inputTextarea>

								<!--MERCADO###################### -->
								<p:outputLabel value="Mercado:" for="@next"
									styleClass="form-label" />
								<p:inputText id="mercado" value="#{bean.item.mercado}"
									maxlength="256"
									validatorMessage="O máximo de caracteres é 256."
									styleClass="p-mb-3">
									<f:validateLength maximum="255" />
									<p:ajax event="keyup" />
								</p:inputText>


								<div class="p-formgroup-inline">
									<div class="p-field">
										<!--DISPENSA################# -->
										<p:outputLabel value="Dispensa:" for="@next"
											styleClass="form-label" />
										<p:selectOneMenu id="dispensas" value="#{bean.dispensaId}"
											required="true" validatorMessage="Selecione uma dispensa.">
											<f:selectItem itemLabel="Selecione" itemValue="null" />
											<f:selectItems value="#{bean.dispensas}" var="dispensa"
												itemLabel="#{dispensa.nome}" itemValue="#{dispensa.id}" />
											<p:ajax event="blur" />
										</p:selectOneMenu>

									</div>

									<div class="p-field">
										<!--LISTA###################### -->
										<p:outputLabel value="Lista:" for="@next" />
										<p:selectOneMenu id="listas" value="listas">
											<f:selectItem itemLabel="Select One" itemValue="" />
											<f:selectItem itemLabel="Alimentação" itemValue="1" />
											<f:selectItem itemLabel="Material de Higiene" itemValue="2" />
											<f:selectItem itemLabel="Material de Limpeza" itemValue="3" />
										</p:selectOneMenu>
									</div>
								</div>

							</div>
							<p:staticMessage severity="info" detail="Dê uma olhada antes de salvar." style="width: 100%" />
						</div>

					</p:panel>

				</h:form>
			</p:tab>

			<p:tab title="Consulta de itens" titleStyleClass="card-header">
				<!-- 	###################################################################### -->
				<!-- 	CONSULTA DE ITENS##################################################### -->
				<!-- 	###################################################################### -->
				<p:panel styleClass="card">
					<f:facet name="header">

						<div class="p-grid ui-fluid">

							<div class="p-col-12 p-md-4">
								<div class="ui-inputgroup">
									<p:inputText placeholder="Digite para filtrar" />
									<p:commandButton icon="pi pi-search"
										styleClass="ui-button-success" />
								</div>
							</div>

						</div>

					</f:facet>
				</p:panel>
			</p:tab>
		</p:accordionPanel>

	</ui:define>
</ui:composition>
</html>